## JavaScriptExecutor in Selenium (Java)

`JavaScriptExecutor` is an interface in Selenium that allows you to execute JavaScript commands inside the browser.

** It is mainly used when:

Selenium cannot interact with an element normally

The application uses heavy JavaScript

You need to scroll, click, or retrieve values using JavaScript

You want faster and more reliable execution

**Useful for:**

Scrolling long pages (infinite scroll, lazy loading).

Scrolling inside elements like tables or divs.

Bringing hidden elements into view

### jsexecutor object

```
JavascriptExecutor js = (JavascriptExecutor) driver;
```

### scroll, click 

```
JavascriptExecutor js = (JavascriptExecutor) driver;

js.executeScript("window.scrollBy(0,800)");

WebElement element = driver.findElement(By.id("email"));

js.executeScript("arguments[0].scrollIntoView(true);", element);
js.executeScript("arguments[0].value='example@mail.com';", element);
js.executeScript("arguments[0].click();", driver.findElement(By.id("submit")));
```


## get text or values using javascript

```
String value = (String) js.executeScript("return document.getElementById('username').value;");
System.out.println(value);
```

## Highlight Elements (Very useful for debugging)
```
WebElement element = driver.findElement(By.id("password"));
js.executeScript("arguments[0].style.border='3px solid red'", element);
```

## Navigate to URL

```
js.executeScript("window.location='https://google.com';");
```

## Get Browser Title Using JS
```
String title = (String) js.executeScript("return document.title;");
System.out.println(title);
```

## Scroll the Window/Page 

âœ” Scroll down by pixels
```
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("window.scrollBy(0, 500);");
```

## Scroll to bottom of the page
```
js.executeScript("window.scrollTo(0, document.body.scrollHeight);");
```

## Scroll to a specific element (recommended)
```
WebElement element = driver.findElement(By.xpath("//tag[@id='something']"));
js.executeScript("arguments[0].scrollIntoView(true);", element);
```

## example:

```
JavascriptExecutor js = (JavascriptExecutor) driver;

// 1. Scroll window
js.executeScript("window.scrollBy(0, 500);");

// 2. Scroll inside table
WebElement tableDiv = driver.findElement(By.id("table-container"));
js.executeScript("arguments[0].scrollTop = arguments[0].scrollTop + 500;", tableDiv);

// 3. Scroll to a specific cell inside table
WebElement cell = driver.findElement(By.xpath("//table//tr[50]/td[3]"));
js.executeScript("arguments[0].scrollIntoView(true);", cell);
```


## practical

```
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.Assert;

public class JavascriptExecutorScroll {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		WebDriver driver = new ChromeDriver();
		driver.get("https://rahulshettyacademy.com/AutomationPractice/");
		JavascriptExecutor js = (JavascriptExecutor) driver;
	    js.executeScript("window.scrollBy(0,500)");
	    js.executeScript("document.querySelector('.tableFixHead').scrollTop=500");
	    List<WebElement> values = driver.findElements(By.xpath("//div[@class='tableFixHead']//td[4]"));
	    int sum =0;
	    for(int i=0;i<values.size();i++) {
	    	sum = sum+Integer.parseInt(values.get(i).getText());
	    }
    	System.out.println(sum);
    	System.out.println(driver.findElement(By.className("totalAmount")).getText());
    	int total =Integer.parseInt(driver.findElement(By.className("totalAmount")).getText().split(":")[1].trim());
    	Assert.assertEquals(sum, total);
	}

}
```
