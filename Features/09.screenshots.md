## screenshots

screenshot is an image capture of the current state of the browser window during test execution.
Selenium can capture:

the **entire visible page**

a **specific element**

the **full page** (with additional libraries)

Screenshots serve as evidence, debugging tools, and reporting materials for test automation.

## Why Screenshots Are Important
### 1. Debugging Test Failures

If a test fails due to:

element not visible

incorrect UI rendering

unexpected popups
You can verify what was actually shown on the screen at the moment of failure.

### 2. Reporting

Tools like:

Extent Reports

Allure

TestNG/JUnit reports

Use screenshots to visually show test steps.

### 3. CI/CD Monitoring

When tests run on pipelines (Jenkins, GitHub Actions), screenshots help diagnose failures without physically seeing the test.

### 4. Visual Validation

Screenshots help verify layout consistency or UI bugs.

## Capturing a Screenshot — Full Page (Viewport)

Selenium provides the **TakesScreenshot** interface. I cast the driver to TakesScreenshot and call **getScreenshotAs(OutputType.FILE)**.

```
File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);
File dest = new File("screenshots/page.png");
FileUtils.copyFile(src, dest);
```

OUTPUT types:

OutputType.FILE → returns as a File object

OutputType.BYTES → returns as byte[]

OutputType.BASE64 → returns base64 string

## Capturing an Element Screenshot

Most people don't know Selenium supports element-specific screenshots.
```
WebElement element = driver.findElement(By.id("logo"));
File src = element.getScreenshotAs(OutputType.FILE);
FileUtils.copyFile(src, new File("screenshots/logo.png"));
```

## Capturing Full-Page Screenshot (Beyond Viewport)

Selenium by itself cannot capture "scrolling full page" screenshots in all browsers.

**Supported only by Firefox natively:**
```
File src = ((FirefoxDriver) driver).getFullPageScreenshotAs(OutputType.FILE);
```

For Chrome, you need:
✔ AShot library
✔ DevTools protocol (Selenium 4+)

```
Screenshot screenshot = new AShot().shootingStrategy(ShootingStrategies.viewportPasting(1000))
                                   .takeScreenshot(driver);
ImageIO.write(screenshot.getImage(), "PNG", new File("fullpage.png"));
```

## How do you capture screenshots on test failure?

I integrate screenshot capture in my test framework. For example, in **TestNG** I use `@AfterMethod` with ITestResult:

```
if (result.getStatus() == ITestResult.FAILURE) {
    File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);
    FileUtils.copyFile(screenshot, new File("failure.png"));
}
```

## How do you use screenshots in reporting?

I attach screenshots to reports like Extent Reports or Allure. This helps stakeholders visually confirm issues. For example, in Extent Reports:

```
test.addScreenCaptureFromPath("failure.png");
```
This ensures every failed test has a screenshot attached to the report.
